<!-- ÁÆÄÂçïÁöÑÂÜÖËÅî‰∏ªÈ¢òÂàáÊç¢Âô® -->
<style>
#simple-theme-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  background: #fff;
  border: 2px solid #ddd;
  border-radius: 25px;
  padding: 10px 15px;
  cursor: pointer;
  font-size: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
}

#simple-theme-toggle:hover {
  background: #f5f5f5;
  transform: translateY(-2px);
}

[data-theme="dark"] #simple-theme-toggle {
  background: #21262d;
  color: #fff;
  border-color: #30363d;
}

[data-theme="dark"] #simple-theme-toggle:hover {
  background: #2c323a;
}

[data-theme="dark"] body {
  background-color: #0d1117;
  color: #f0f6fc;
}

[data-theme="dark"] .masthead {
  background-color: #161b22;
  border-bottom-color: #30363d;
}

[data-theme="dark"] .page__content {
  background-color: #0d1117;
  color: #f0f6fc;
}

[data-theme="dark"] .sidebar {
  background-color: #161b22;
}

.theme-icon {
  width: 16px;
  height: 16px;
}

.light-mode .moon-icon,
.dark-mode .sun-icon {
  display: none;
}
</style>

<div id="simple-theme-toggle" onclick="toggleSimpleTheme()">
  <span class="theme-icon sun-icon">‚òÄÔ∏è</span>
  <span class="theme-icon moon-icon">üåô</span>
  <span class="theme-text">‰∏ªÈ¢ò</span>
</div>

<script>
function toggleSimpleTheme() {
  const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  
  // Â∫îÁî®‰∏ªÈ¢ò
  document.documentElement.setAttribute('data-theme', newTheme);
  document.body.className = document.body.className.replace(/theme-\w+/, '') + ' theme-' + newTheme;
  
  // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
  const button = document.getElementById('simple-theme-toggle');
  button.className = newTheme + '-mode';
  
  // ‰øùÂ≠òÂà∞localStorage
  localStorage.setItem('simple-theme', newTheme);
  
  // Êõ¥Êñ∞Giscus‰∏ªÈ¢ò
  updateGiscusTheme(newTheme);
  
  console.log('Theme switched to:', newTheme);
}

function updateGiscusTheme(theme) {
  const giscusTheme = theme === 'dark' ? 'dark' : 'light';
  const giscusFrame = document.querySelector('iframe[src*="giscus"]');
  
  if (giscusFrame) {
    giscusFrame.contentWindow.postMessage(
      {
        giscus: {
          setConfig: {
            theme: giscusTheme
          }
        }
      },
      'https://giscus.app'
    );
  }
}

// ÂàùÂßãÂåñ‰∏ªÈ¢ò
document.addEventListener('DOMContentLoaded', function() {
  const savedTheme = localStorage.getItem('simple-theme') || 
                   (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  
  document.documentElement.setAttribute('data-theme', savedTheme);
  document.body.className += ' theme-' + savedTheme;
  
  const button = document.getElementById('simple-theme-toggle');
  button.className = savedTheme + '-mode';
  
  console.log('Initial theme set to:', savedTheme);
});
</script>